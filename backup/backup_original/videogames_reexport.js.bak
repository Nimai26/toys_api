/**
 * lib/videogames.js - Module Jeux Vidéo (RAWG + IGDB + JVC)
 * 
 * FICHIER DE RÉEXPORTATION
 * Les implémentations sont dans ./providers/
 * Ce fichier maintient la rétrocompatibilité des imports existants.
 * 
 * @module videogames
 */

// ============================================================================
// Réexportations depuis les providers modulaires
// ============================================================================

// RAWG API
export {
  searchRawg,
  getRawgGameDetails,
  harmonizeRawgGame
} from './providers/rawg.js';

// IGDB/Twitch API
export {
  parseIgdbCredentials,
  getIgdbWebsiteCategory,
  parseIgdbAgeRating,
  detectMultiplayer,
  getIgdbToken,
  searchIgdb,
  getIgdbGameDetails
} from './providers/igdb.js';

// JeuxVideo.com (scraping)
export {
  searchJVC,
  getJVCGameById,
  harmonizeJvcGame
} from './providers/jvc.js';

// ============================================================================
// Fonction utilitaire commune (gardée ici pour rétrocompatibilité)
// ============================================================================

/**
 * Harmonise les détails d'un jeu depuis différentes sources
 * @param {Object} rawData - Données brutes du jeu
 * @param {string} source - Source des données ('rawg', 'igdb', 'jvc')
 * @returns {Object} - Données harmonisées
 */
export function harmonizeGameDetails(rawData, source) {
  switch (source) {
    case 'rawg':
      return harmonizeRawgGame(rawData);
    case 'jvc':
      return harmonizeJvcGame(rawData);
    case 'igdb':
      // IGDB retourne déjà un format harmonisé depuis getIgdbGameDetails
      return rawData;
    default:
      return rawData;
  }
}

// Import des fonctions pour harmonizeGameDetails
import { harmonizeRawgGame } from './providers/rawg.js';
import { harmonizeJvcGame } from './providers/jvc.js';
